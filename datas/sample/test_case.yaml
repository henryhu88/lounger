- name: step one
  request:
    method: GET
    url: /id/1
    headers:
      Content-Type: application/json
      Authorization: ${config(token)}
    params:
  extract: # 提取变量
    resp_code: "code"
    resp_name: "data.name"
    resp_age: "data.age"
  validate: # 断言验证
    equal: # 相等断言
      - [ "status_code", 200 ]
      - [ "body.code", 10200 ]
    not_equal: # 不等断言
      - [ "body.data.name", "jack" ]
    contains: # 包含断言
      - [ "body.message", "succ" ]
    not_contains: # 不包含断言
      - [ "body.message", "access" ]
- name: step two
  request:
    method: POST
    url: /add_user
    headers:
      Content-Type: application/json
      Authorization: ${config(token)}
    json:
      age: ${extract(resp_age)}
      name: ${extract(resp_name)}1
      height: 173
  extract: # 提取变量
    resp_code: "code"
    resp_age: "data.age"
  validate: # 断言验证
    equal: # 相等断言
      - [ "status_code", 200 ]