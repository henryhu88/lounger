- teststeps:
    - name: A simple GET request
      request:
        method: GET
        url: /search/
        headers:
        params:
          q: "selenium"
      validate:
        equal:
- teststeps:
    - presteps: setup/login.yaml
    - name: get user info
      request:
        method: GET
        url: /id/1
        headers:
          Content-Type: application/json
          Authorization: ${extract(login_token)}
        params:
      extract: # 提取变量
        user_name: "data.name"
        user_age: "data.age"
      validate: # 断言验证
        equal: # 相等断言
          - [ "status_code", 200 ]
          - [ "body.code", 10200 ]
        not_equal: # 不等断言
          - [ "body.data.name", "jack" ]
        contains: # 包含断言
          - [ "body.message", "succ" ]
        not_contains: # 不包含断言
          - [ "body.message", "access" ]
    - name: add user info
      request:
        method: POST
        url: /add_user
        headers:
          Content-Type: application/json
          Authorization: ${extract(login_token)}
        json:
          age: ${extract(user_age)}
          name: ${extract(user_name)}_new
          height: 173
      extract: # 提取变量
        resp_code: "code"
        resp_age: "data.age"
      validate: # 断言验证
        equal: # 相等断言
          - [ "status_code", 200 ]